<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LPAS — DFD Level 1 &amp; Level 2</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Playfair+Display:wght@600&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'DM Mono', monospace;
      background: #f8f7f4;
      color: #111;
      padding: 40px 36px;
    }

    .page-title {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      letter-spacing: -0.5px;
      border-bottom: 3px solid #111;
      padding-bottom: 14px;
      margin-bottom: 6px;
    }

    .page-sub {
      font-size: 0.72rem;
      color: #555;
      letter-spacing: 0.06em;
      margin-bottom: 44px;
    }

    .section {
      margin-bottom: 60px;
    }

    .section-title {
      font-family: 'DM Mono', monospace;
      font-size: 0.78rem;
      font-weight: 500;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #111;
      border-left: 4px solid #111;
      padding-left: 12px;
      margin-bottom: 10px;
    }

    .col-legend {
      display: flex;
      gap: 32px;
      font-size: 0.68rem;
      color: #777;
      letter-spacing: 0.04em;
      margin-bottom: 16px;
      padding-left: 4px;
    }

    .col-legend span {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .col-legend .dot-rect {
      width: 14px;
      height: 10px;
      border: 1.5px solid #111;
      background: #fff;
      display: inline-block;
    }

    .col-legend .dot-circ {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 1.5px solid #111;
      background: #fff;
      display: inline-block;
    }

    .col-legend .dot-ds {
      width: 14px;
      height: 10px;
      border-left: 2px solid #111;
      border-top: 2px solid #111;
      border-bottom: 2px solid #111;
      background: #fff;
      display: inline-block;
    }

    .diagram-wrap {
      background: #fff;
      border: 1.5px solid #222;
      border-radius: 2px;
      padding: 28px 20px 20px;
      overflow-x: auto;
    }

    .note {
      font-size: 0.66rem;
      color: #888;
      letter-spacing: 0.04em;
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px solid #e8e8e8;
    }

    svg {
      display: block;
    }

    text {
      font-family: 'DM Mono', monospace;
    }
  </style>
</head>

<body>

  <h1 class="page-title">Lab Programming Allocation System</h1>
  <p class="page-sub">DFD LEVEL 1 · LEVEL 2 — THREE-COLUMN LAYOUT · WHITE / BLACK THEME</p>

  <!-- ═══════════════════════════════════════════════════════
     COLUMN HEADER LEGEND (shared)
═══════════════════════════════════════════════════════ -->
  <div class="col-legend" style="margin-bottom:28px;">
    <span><span class="dot-rect"></span> External Entity (left column)</span>
    <span><span class="dot-circ"></span> Process (centre column)</span>
    <span><span class="dot-ds"></span> Datastore (right column, open right)</span>
  </div>

  <!-- ═══════════════════════════════════════════════════════
     DFD LEVEL 1
═══════════════════════════════════════════════════════ -->
  <div class="section">
    <p class="section-title">DFD Level 1 — Processes &amp; Datastores</p>
    <div class="diagram-wrap">
      <svg width="1080" height="740" viewBox="0 0 1080 740" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <marker id="a1" markerWidth="9" markerHeight="9" refX="8" refY="4.5" orient="auto">
            <polygon points="0 0,9 4.5,0 9" fill="#111" />
          </marker>
        </defs>

        <!-- ══ COLUMN HEADERS ══ -->
        <text x="81" y="32" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">ENTITIES</text>
        <text x="430" y="32" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">PROCESSES</text>
        <text x="690" y="32" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">DATASTORES</text>

        <!-- faint vertical column guides -->
        <line x1="200" y1="42" x2="200" y2="720" stroke="#e8e8e8" stroke-width="1" stroke-dasharray="4,4" />
        <line x1="600" y1="42" x2="600" y2="720" stroke="#e8e8e8" stroke-width="1" stroke-dasharray="4,4" />

        <!-- ══ LEFT COLUMN — EXTERNAL ENTITIES ══
           Each entity rect: x=25, width=112, height=44, rounded corners=0
           Centres: Admin=(81,90) Staff=(81,258) Student=(81,428)
      ══ -->

        <!-- ADMIN entity -->
        <rect x="25" y="68" width="112" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="81" y="95" text-anchor="middle" font-size="11" font-weight="500">Admin</text>

        <!-- STAFF entity -->
        <rect x="25" y="238" width="112" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="81" y="265" text-anchor="middle" font-size="11" font-weight="500">Staff</text>

        <!-- STUDENT entity -->
        <rect x="25" y="408" width="112" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="81" y="435" text-anchor="middle" font-size="11" font-weight="500">Student</text>

        <!-- ADMIN (Reports) entity — bottom-right, aligned with P4 -->
        <rect x="876" y="648" width="152" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="952" y="668" text-anchor="middle" font-size="10" font-weight="500">Admin</text>
        <text x="952" y="683" text-anchor="middle" font-size="10" font-weight="500">(Reports)</text>

        <!-- ══ CENTRE COLUMN — PROCESSES (cx=430, r=50) ══
           P1 cy=90  P2 cy=258  P3 cy=428  P4 cy=608
      ══ -->

        <!-- P1 Auth & RBAC -->
        <circle cx="430" cy="90" r="50" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="82" text-anchor="middle" font-size="12" font-weight="500">1</text>
        <text x="430" y="97" text-anchor="middle" font-size="9.5">Auth &amp; RBAC</text>

        <!-- P2 Exam Session & Allocation -->
        <circle cx="430" cy="258" r="50" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="247" text-anchor="middle" font-size="12" font-weight="500">2</text>
        <text x="430" y="262" text-anchor="middle" font-size="9">Exam Session</text>
        <text x="430" y="275" text-anchor="middle" font-size="9">&amp; Allocation</text>

        <!-- P3 Monitor & Evaluate -->
        <circle cx="430" cy="428" r="50" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="420" text-anchor="middle" font-size="12" font-weight="500">3</text>
        <text x="430" y="435" text-anchor="middle" font-size="9">Monitor &amp;</text>
        <text x="430" y="448" text-anchor="middle" font-size="9">Evaluate</text>

        <!-- P4 Reports & Notify -->
        <circle cx="430" cy="608" r="50" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="600" text-anchor="middle" font-size="12" font-weight="500">4</text>
        <text x="430" y="615" text-anchor="middle" font-size="9">Reports &amp;</text>
        <text x="430" y="628" text-anchor="middle" font-size="9">Notify</text>

        <!-- ══ RIGHT COLUMN — DATASTORES
           Open-right box: left vert + top horiz + bottom horiz, no right line
           D1 y=66-114   D2 y=234-282   D3 y=310-358   D4 y=404-452   D5 y=584-632
      ══ -->

        <!-- D1: User (aligned with P1) -->
        <line x1="618" y1="66" x2="618" y2="114" stroke="#111" stroke-width="2" />
        <line x1="618" y1="66" x2="762" y2="66" stroke="#111" stroke-width="2" />
        <line x1="618" y1="114" x2="762" y2="114" stroke="#111" stroke-width="2" />
        <text x="620" y="85" font-size="9" font-weight="500" fill="#111">D1</text>
        <text x="620" y="101" font-size="9" fill="#111">User</text>

        <!-- D2: Exam_Session (aligned with P2) -->
        <line x1="618" y1="234" x2="618" y2="282" stroke="#111" stroke-width="2" />
        <line x1="618" y1="234" x2="762" y2="234" stroke="#111" stroke-width="2" />
        <line x1="618" y1="282" x2="762" y2="282" stroke="#111" stroke-width="2" />
        <text x="620" y="253" font-size="9" font-weight="500" fill="#111">D2</text>
        <text x="620" y="269" font-size="9" fill="#111">Exam_Session</text>

        <!-- D3: Student_Alloc (between P2 and P3) -->
        <line x1="618" y1="312" x2="618" y2="360" stroke="#111" stroke-width="2" />
        <line x1="618" y1="312" x2="762" y2="312" stroke="#111" stroke-width="2" />
        <line x1="618" y1="360" x2="762" y2="360" stroke="#111" stroke-width="2" />
        <text x="620" y="331" font-size="9" font-weight="500" fill="#111">D3</text>
        <text x="620" y="347" font-size="9" fill="#111">Student_Alloc</text>

        <!-- D4: Submission (aligned with P3) -->
        <line x1="618" y1="404" x2="618" y2="452" stroke="#111" stroke-width="2" />
        <line x1="618" y1="404" x2="762" y2="404" stroke="#111" stroke-width="2" />
        <line x1="618" y1="452" x2="762" y2="452" stroke="#111" stroke-width="2" />
        <text x="620" y="423" font-size="9" font-weight="500" fill="#111">D4</text>
        <text x="620" y="439" font-size="9" fill="#111">Submission</text>

        <!-- D5: Activity_Log (aligned with P4) -->
        <line x1="618" y1="584" x2="618" y2="632" stroke="#111" stroke-width="2" />
        <line x1="618" y1="584" x2="762" y2="584" stroke="#111" stroke-width="2" />
        <line x1="618" y1="632" x2="762" y2="632" stroke="#111" stroke-width="2" />
        <text x="620" y="603" font-size="9" font-weight="500" fill="#111">D5</text>
        <text x="620" y="619" font-size="9" fill="#111">Activity_Log</text>

        <!-- ══════════════════════════════════
           DATA FLOWS — explicit clean paths
      ══════════════════════════════════ -->

        <!-- ─── Admin → P1 : login / config ─── -->
        <path d="M 137,85 L 380,85" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="254" y="78" text-anchor="middle" font-size="8.5" fill="#444">login / config</text>

        <!-- ─── P1 → D1 : write session ─── -->
        <path d="M 480,78 L 618,78" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="71" text-anchor="middle" font-size="8" fill="#444">write session</text>

        <!-- ─── D1 → P1 : credentials ─── -->
        <path d="M 618,100 L 480,100" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="112" text-anchor="middle" font-size="8" fill="#444">credentials</text>

        <!-- ─── P1 → Admin : auth result (dashed return) ─── -->
        <path d="M 380,95 L 137,95" stroke="#111" stroke-width="1.4" fill="none" stroke-dasharray="6,3"
          marker-end="url(#a1)" />
        <text x="254" y="107" text-anchor="middle" font-size="8" fill="#888">auth result</text>

        <!-- ─── Staff → P2 : session params ─── -->
        <path d="M 137,258 L 380,258" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="254" y="250" text-anchor="middle" font-size="8.5" fill="#444">session params</text>

        <!-- ─── P2 → D2 : session data ─── -->
        <path d="M 480,248 L 618,248" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="241" text-anchor="middle" font-size="8" fill="#444">session data</text>

        <!-- ─── D2 → P2 : read ─── -->
        <path d="M 618,268 L 480,268" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="281" text-anchor="middle" font-size="8" fill="#444">read</text>

        <!-- ─── P2 → D3 : alloc record (go DOWN from P2 bottom then RIGHT) ─── -->
        <path d="M 430,308 L 430,336 L 618,336" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="530" y="328" text-anchor="middle" font-size="8" fill="#444">alloc record</text>

        <!-- ─── D3 → P3 : read alloc (go LEFT from D3, DOWN, then LEFT to P3) ─── -->
        <path d="M 618,350 L 558,350 L 558,438 L 480,438" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a1)" />
        <text x="556" y="396" font-size="8" fill="#444" text-anchor="middle">alloc</text>
        <text x="556" y="407" font-size="8" fill="#444" text-anchor="middle">status</text>

        <!-- ─── Student → P3 : code submit ─── -->
        <path d="M 137,428 L 380,428" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="254" y="420" text-anchor="middle" font-size="8.5" fill="#444">code / submit</text>

        <!-- ─── P3 → D4 : store code ─── -->
        <path d="M 480,418 L 618,418" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="411" text-anchor="middle" font-size="8" fill="#444">store code</text>

        <!-- ─── D4 → P3 : read for eval ─── -->
        <path d="M 618,442 L 480,442" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="456" text-anchor="middle" font-size="8" fill="#444">read</text>

        <!-- ─── P3 → P4 : eval results (vertical down centre) ─── -->
        <path d="M 430,478 L 430,558" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="442" y="520" font-size="8" fill="#444">eval</text>
        <text x="442" y="531" font-size="8" fill="#444">results</text>

        <!-- ─── P4 → D5 : write log ─── -->
        <path d="M 480,598 L 618,598" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="591" text-anchor="middle" font-size="8" fill="#444">write log</text>

        <!-- ─── D5 → P4 : read logs ─── -->
        <path d="M 618,620 L 480,620" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a1)" />
        <text x="548" y="634" text-anchor="middle" font-size="8" fill="#444">read logs</text>

        <!-- ─── P4 → Admin(Reports) : route right edge of P4, drop below D5, go right to entity ─── -->
        <path d="M 480,608 L 490,608 L 490,670 L 876,670" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a1)" />
        <text x="680" y="663" text-anchor="middle" font-size="8" fill="#444">reports / analytics</text>

        <!-- ─── P4 → Student : notification (left-margin loop) ─── -->
        <!-- from P4 bottom → drop down → run left along bottom → go up left margin → enter Student bottom -->
        <path d="M 430,658 L 430,700 L 14,700 L 14,452 L 25,452" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a1)" />
        <text x="218" y="693" text-anchor="middle" font-size="8" fill="#444">notification / results</text>

        <!-- ─── P4 → Staff : session results (left-side branch) ─── -->
        <path d="M 390,614 L 226,614 L 226,282 L 137,282" stroke="#111" stroke-width="1.6" fill="none"
          stroke-dasharray="6,3" marker-end="url(#a1)" />
        <text x="280" y="607" text-anchor="middle" font-size="8" fill="#888">session results</text>

      </svg>
      <p class="note">
        Left = External Entities &nbsp;|&nbsp; Centre = Processes (numbered circles, cx=430) &nbsp;|&nbsp; Right =
        Datastores (open-right boxes D1–D5) &nbsp;|&nbsp;
        Solid arrows = primary data flow &nbsp;|&nbsp; Dashed arrows = return / output flow
      </p>
    </div>
  </div>


  <!-- ═══════════════════════════════════════════════════════
     DFD LEVEL 2 — PROCESS 2: EXAM SESSION & ALLOCATION
═══════════════════════════════════════════════════════ -->
  <div class="section">
    <p class="section-title">DFD Level 2 — Process 2: Exam Session &amp; Allocation</p>
    <div class="diagram-wrap">
      <svg width="1000" height="680" viewBox="0 0 1000 680" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <marker id="a2" markerWidth="9" markerHeight="9" refX="8" refY="4.5" orient="auto">
            <polygon points="0 0,9 4.5,0 9" fill="#111" />
          </marker>
        </defs>

        <!-- ══ COLUMN HEADERS ══ -->
        <text x="81" y="28" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">ENTITIES</text>
        <text x="430" y="28" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">SUB-PROCESSES</text>
        <text x="700" y="28" text-anchor="middle" font-size="9" fill="#aaa" letter-spacing="2">DATASTORES</text>

        <!-- faint vertical column guides -->
        <line x1="200" y1="38" x2="200" y2="660" stroke="#e8e8e8" stroke-width="1" stroke-dasharray="4,4" />
        <line x1="600" y1="38" x2="600" y2="660" stroke="#e8e8e8" stroke-width="1" stroke-dasharray="4,4" />

        <!-- ══ LEFT COLUMN — EXTERNAL ENTITIES ══ -->

        <!-- STAFF (top-left, aligned with 2.1) -->
        <rect x="25" y="54" width="112" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="81" y="81" text-anchor="middle" font-size="11" font-weight="500">Staff</text>

        <!-- STUDENT (bottom-left, aligned between 2.4 and 2.5) -->
        <rect x="25" y="510" width="112" height="44" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="81" y="537" text-anchor="middle" font-size="11" font-weight="500">Student</text>

        <!-- ══ CENTRE COLUMN — SUB-PROCESSES (cx=430, r=48) ══
           2.1 cy=76   2.2 cy=210   2.3 cy=350   2.4 cy=455   2.5 cy=570
      ══ -->

        <!-- 2.1 Create Session -->
        <circle cx="430" cy="76" r="48" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="68" text-anchor="middle" font-size="12" font-weight="500">2.1</text>
        <text x="430" y="83" text-anchor="middle" font-size="9">Create</text>
        <text x="430" y="96" text-anchor="middle" font-size="9">Session</text>

        <!-- 2.2 Allocation Engine -->
        <circle cx="430" cy="210" r="48" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="202" text-anchor="middle" font-size="12" font-weight="500">2.2</text>
        <text x="430" y="217" text-anchor="middle" font-size="9">Allocation</text>
        <text x="430" y="230" text-anchor="middle" font-size="9">Engine</text>

        <!-- 2.3 Notify Students -->
        <circle cx="430" cy="350" r="48" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="342" text-anchor="middle" font-size="12" font-weight="500">2.3</text>
        <text x="430" y="357" text-anchor="middle" font-size="9">Notify</text>
        <text x="430" y="370" text-anchor="middle" font-size="9">Students</text>

        <!-- 2.4 Student Join Exam -->
        <circle cx="430" cy="455" r="48" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="447" text-anchor="middle" font-size="12" font-weight="500">2.4</text>
        <text x="430" y="462" text-anchor="middle" font-size="9">Student</text>
        <text x="430" y="475" text-anchor="middle" font-size="9">Join Exam</text>

        <!-- 2.5 Submit Code -->
        <circle cx="430" cy="575" r="48" fill="#fff" stroke="#111" stroke-width="2" />
        <text x="430" y="567" text-anchor="middle" font-size="12" font-weight="500">2.5</text>
        <text x="430" y="582" text-anchor="middle" font-size="9">Submit</text>
        <text x="430" y="595" text-anchor="middle" font-size="9">Code</text>

        <!-- ══ RIGHT COLUMN — DATASTORES
           D2 y=52-100   D3 y=186-234   D4 y=551-599
      ══ -->

        <!-- D2: Exam_Session (aligned with 2.1) -->
        <line x1="618" y1="52" x2="618" y2="100" stroke="#111" stroke-width="2" />
        <line x1="618" y1="52" x2="768" y2="52" stroke="#111" stroke-width="2" />
        <line x1="618" y1="100" x2="768" y2="100" stroke="#111" stroke-width="2" />
        <text x="620" y="71" font-size="9" font-weight="500" fill="#111">D2</text>
        <text x="620" y="87" font-size="9" fill="#111">Exam_Session</text>

        <!-- D3: Student_Alloc (aligned with 2.2) -->
        <line x1="618" y1="186" x2="618" y2="234" stroke="#111" stroke-width="2" />
        <line x1="618" y1="186" x2="768" y2="186" stroke="#111" stroke-width="2" />
        <line x1="618" y1="234" x2="768" y2="234" stroke="#111" stroke-width="2" />
        <text x="620" y="205" font-size="9" font-weight="500" fill="#111">D3</text>
        <text x="620" y="221" font-size="9" fill="#111">Student_Alloc</text>

        <!-- D4: Submission (aligned with 2.5) -->
        <line x1="618" y1="551" x2="618" y2="599" stroke="#111" stroke-width="2" />
        <line x1="618" y1="551" x2="768" y2="551" stroke="#111" stroke-width="2" />
        <line x1="618" y1="599" x2="768" y2="599" stroke="#111" stroke-width="2" />
        <text x="620" y="570" font-size="9" font-weight="500" fill="#111">D4</text>
        <text x="620" y="586" font-size="9" fill="#111">Submission</text>

        <!-- ══════════════════════════════════════
           DATA FLOWS
      ══════════════════════════════════════ -->

        <!-- ─── Staff → 2.1 : session params ─── -->
        <path d="M 137,76 L 382,76" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="256" y="69" text-anchor="middle" font-size="8.5" fill="#444">session params</text>

        <!-- ─── 2.1 → D2 : write session ─── -->
        <path d="M 478,66 L 618,66" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="548" y="59" text-anchor="middle" font-size="8" fill="#444">write session</text>

        <!-- ─── D2 → 2.1 : validate (read) ─── -->
        <path d="M 618,88 L 478,88" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="548" y="101" text-anchor="middle" font-size="8" fill="#444">validate / read</text>

        <!-- ─── 2.1 → 2.2 : session ready (vertical) ─── -->
        <path d="M 430,124 L 430,162" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="444" y="146" font-size="8" fill="#444">session</text>
        <text x="444" y="157" font-size="8" fill="#444">ready</text>

        <!-- ─── 2.2 → D3 : write alloc ─── -->
        <path d="M 478,200 L 618,200" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="548" y="193" text-anchor="middle" font-size="8" fill="#444">write alloc</text>

        <!-- ─── D3 → 2.2 : student roster ─── -->
        <path d="M 618,220 L 478,220" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="548" y="233" text-anchor="middle" font-size="8" fill="#444">student roster</text>

        <!-- ─── 2.2 → 2.3 : trigger notify (vertical) ─── -->
        <path d="M 430,258 L 430,302" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="444" y="284" font-size="8" fill="#444">trigger</text>
        <text x="444" y="295" font-size="8" fill="#444">notify</text>

        <!-- ─── D3 → 2.3 : alloc list (left of D3, down, then to 2.3) ─── -->
        <path d="M 618,228 L 556,228 L 556,338 L 478,350" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a2)" />
        <text x="540" y="290" text-anchor="middle" font-size="8" fill="#444">alloc</text>
        <text x="540" y="301" text-anchor="middle" font-size="8" fill="#444">list</text>

        <!-- ─── 2.3 → Student : notification (go left, down left side, to Student) ─── -->
        <path d="M 382,350 L 200,350 L 200,532 L 137,532" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a2)" />
        <text x="290" y="343" text-anchor="middle" font-size="8" fill="#444">notification</text>

        <!-- ─── Student → 2.4 : credentials (go up from Student top, then right) ─── -->
        <path d="M 137,514 L 137,455 L 382,455" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="190" y="448" text-anchor="middle" font-size="8" fill="#444">credentials</text>

        <!-- ─── D2 → 2.4 : session info (go left from D2, run down beside processes, enter 2.4) ─── -->
        <path d="M 618,96 L 540,96 L 540,445 L 478,455" stroke="#111" stroke-width="1.6" fill="none"
          marker-end="url(#a2)" />
        <text x="524" y="278" text-anchor="middle" font-size="8" fill="#444">session</text>
        <text x="524" y="289" text-anchor="middle" font-size="8" fill="#444">info</text>

        <!-- ─── D3 → 2.4 : alloc detail (from D3 bottom, down centre of datastore col, then left to 2.4) ─── -->
        <path d="M 690,234 L 690,418 L 478,458" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="696" y="332" font-size="8" fill="#444">alloc</text>
        <text x="696" y="343" font-size="8" fill="#444">detail</text>

        <!-- ─── 2.4 → 2.5 : verified join (short vertical) ─── -->
        <path d="M 430,503 L 430,527" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="450" y="517" font-size="8" fill="#444">verified join</text>

        <!-- ─── Student → 2.5 : code (from Student right-centre, right and slightly down to 2.5) ─── -->
        <path d="M 137,535 L 382,535 L 382,573" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="256" y="528" text-anchor="middle" font-size="8" fill="#444">code / submit</text>

        <!-- ─── 2.5 → D4 : store submission ─── -->
        <path d="M 478,575 L 618,575" stroke="#111" stroke-width="1.6" fill="none" marker-end="url(#a2)" />
        <text x="548" y="568" text-anchor="middle" font-size="8" fill="#444">store submission</text>

      </svg>
      <p class="note">
        Decomposition of Process 2 (Exam Session &amp; Allocation) &nbsp;|&nbsp;
        Left = Staff &amp; Student entities &nbsp;|&nbsp;
        Centre = sub-processes 2.1 → 2.5 top-to-bottom &nbsp;|&nbsp;
        Right = D2 Exam_Session, D3 Student_Alloc, D4 Submission (open-right boxes) &nbsp;|&nbsp;
        D2 &amp; D3 feed 2.4 (Student Join Exam) via side-routed paths to avoid line crossings
      </p>
    </div>
  </div>

</body>

</html>